<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="./css/index.css" />
    <link rel="icon" type="image/png" href="./images/icone_chakra.png" />
    <title>Test Naruto : quel est la nature de ton chakra ?</title>
    <script language="Javascript" src="js/questions.js"></script>
</head>
<body>
    <header>
        <h1>Test Naruto : quel est la nature de ton chakra ?</h1>
    </header>

    <div style="width: 100%; height: auto; text-align: center;">

        <div class="test_container" id="container" style="width: 800px; display: inline-block;">
            <div class="question" id="question"></div>

            <div class="choice" id="list">
                <div class="response" id="res1" onclick="getRes(1)"></div>
                <div class="response" id="res2" onclick="getRes(2)"></div>
                <div class="response" id="res3" onclick="getRes(3)"></div>
                <div class="response" id="res4" onclick="getRes(4)"></div>
                <div class="response" id="res5" onclick="getRes(5)"></div>     
            </div>

            <div class="bottom" style="width: 736px; display: inline-block;">
                    <input type="button" value="Commencer" id="btn_start" style="float: left;" onclick="begin()"/>
                    <div style="float: right; padding-left: 10px; padding-right: 10px;">Questions restantes :&nbsp;
                        <div id="remaining" style="float: right;">3</div>
                    </div>      
                </div>
                </div>	
            </div>

            

        </div>
    </div>

    <div class="saut_ligne" style="height: 30px"></div>
    
    <footer>
        Naruto/Naruto Shippuden - Masashi Kishimoto - SHUEISHA Inc.
    </footer>
</body>

<script type="text/javascript" language="javascript">
    var nb_questions = 3;
    var i = 1;
    var test = false;
    var fire = 0;
    var water = 0;
    var wind = 0;
    var lightning = 0;
    var earth = 0;
	
	function begin()
	{
        if(confirm("Voulez-vous commencer le test ?")){
            test = true;
		    nb_questions = 5;
            i = 1;
            fire = 0;
            water = 0;
            wind = 0;
            lightning = 0;
            earth = 0;
		    init();
		    next(i);
        }
	}
	
	function init()
	{
		document.getElementById('remaining').innerText = nb_questions;
    }

    function getRes(res)
    {
        if(test == false)
            return;

        switch(res)
        {
            case 1:
                fire += 1;
                break;
            case 2:
                water += 1;
                break;
            case 3:
                wind += 1;
                break;
            case 4:
                lightning += 1;
                break;
            case 5:
                earth += 1;
                break;
        }

        nb_questions--;
        if(nb_questions == 0)
            test = false;

        init();
        i++;
        next(i);

        if(nb_questions == 0)
            alert("Feu = " + fire + ", Eau = " + water + ", Vent = " + wind + ", Foudre = " + lightning + ", Terre = " + earth);
        }
    
    function next(index)
    {
        var question, response;

        /*
        if(test == false)
        {
            if(confirm("Voulez-vous recommencer le test ?"))
                reset();
        }
        */

        question = questions(index);
        response = responses(index).split('*');
        document.getElementById("question").innerText = question;
        document.getElementById("res1").innerText = response[0];
        document.getElementById("res2").innerText = response[1];
        document.getElementById("res3").innerText = response[2];
        document.getElementById("res4").innerText = response[3];
        document.getElementById("res5").innerText = response[4];
    }

    reset()
    {
        alert("reset");
    }
</script>

</html>